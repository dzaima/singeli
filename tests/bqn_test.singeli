def __lt{a,b} = emit{u1, 'lt', a, b}
def __add{a,b} = emit{u64, 'add', a, b}

def for{vars,begin,end,block} = {
  i:u64 = begin
  while (i<end) {
    exec{i, vars,block}
    i = i+1
  }
}

memcpy(a:*u64, b:*u64, i:u64, j:u64) : *u64 = {
  @for (a,b over _ from i to j) { a=b }
  a
}
'memcpy_64' = memcpy
