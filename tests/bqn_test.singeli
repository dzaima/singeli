def for{vars,begin,end,block} = {
  i:u64 = begin
  while (emit{u1,'lt',i,end}) {
    exec{i, vars,block}
    i = emit{u64,'add',i,1}
  }
}

memcpy(a:*u64, b:*u64, i:u64, j:u64) : *u64 = {
  @for (a,b over _ from i to j) { a=b }
  a
}
