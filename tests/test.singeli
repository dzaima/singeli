def for_each {s, e, vars, block} = {
  i:= s;
  while (i < e) {
    exec(i, i, vars, block);
    i = i+1u64;
  }
}

f{T}(a:*T, b:*T, r:*T, l:u64) : void = {
  @for_each(a, b, r over i from 0u64 to l) {
    r = a+b;
  }
}
'add_i32' = f{i32};